<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="keywords" content="musica, artistas, discografica, fan, rock, indie">

    <title>Noticias</title>
    <link rel="stylesheet" href="noticias.css">

</head>
<body>
<nav>
    <ul title="Enlaces">
        <li id="quiensomos"><a href="quiensomos.html">Quién somos</a></li>
        <li><a href="halloffame.html">Hall of Fame</a></li>
        <li id="artistas"><a href="artistas.html">Artistas</a></li>
        <li><a href="../index.html"><img class="logo" src="../imagenes/logo.png"></a></li>
        <li><a href="eventos.html">Eventos</a></li>
        <li id="noticias"><a href="noticias.html">Noticias</a></li>
        <li id="personal"><a href="personal.html">Area personal</a></li>
    </ul>
</nav>
<main>
    <div class="contacto"><a href="contacto.html">CONTACTO</a></div>

    <div id="destacada">
        <h1>Grouplove gana el premio Billboard 2022</h1>
        <figure>
            <img src="../imagenes/noticias/noticias.png">
        </figure>
        <p>Grouplove, una de las grandes estrellas de Little Bass Records, se ha hecho con el premio Billboard 2022, uno
            de los premios más prestigiosos de la industria musical. La ceremonia de entrega de premios tuvo lugar el
            pasado
            domingo, 13 de Enero, en Nashville, Texas. Otros artistas presentes en la gala fueron Clairo, Maggie Rogers
            y Joji, los
            cuales fueron nominados en distintas categorías.</p>
    </div>
    <div id="lanzamientos">
        <a id="textoL" href="lanzamientos.html">ÚLTIMOS LANZAMIENTOS</a>
    </div>
    <h2>Noticias</h2>
    <div class="contenedor">

        <div id="n1" class="fila1">
            <h3>Wallows confirma segundo álbum 'Tell Me That It's Over'</h3>
            <p>La banda Wallows compartió detalles de lo que será su segundo álbum de estudio. Este llevará por nombre
                ‘Tell Me That It’s Over‘. La noticia llega en compañía de su nueva canción “Especially You“</p>
            <a href="https://garajedelrock.com/noticias/wallows-confirma-segundo-album-tell-me-that-its-over-y-lanza-nueva-cancion-especially-you/">Leer
                más</a>
            <p class="boton" id="1">Leído</p>
        </div>
        <div id="n2" class="fila1">

            <h3>Rex Orange County envía postales a sus mayores fans para promocionar su nueva música</h3>
            <p>Tras disculparse con sus fans por no lanzar su nuevo album en 2021, Rex reaparece enviando postales a sus
                fans con teasers de la temática de "Who Cares".</p>
            <a href="https://www.coupdemainmagazine.com/rex-orange-county/18147">Leer más</a>
            <p class="boton" id="2">Leído</p>
        </div>
        <div id="n3" class="fila1">

            <h3>Mark Pontius, batería de Foster The People, abandona la banda</h3>
            <p>"He luchado por encontrar las palabras para comenzar este anuncio, así que supongo que simplemente
                arrancaré la tirita y diré que he decidido dejar la banda que ayudé a iniciar, hace 11 años", escribió
                ayer Pontius
                en un comunicado compartido en las redes sociales de la banda. </p>
            <a href="https://www.mondosonoro.com/noticias-actualidad-musical/mark-pontius-foster-the-people/">Leer
                más</a>
            <p class="boton" id="3">Leído</p>

        </div>
        <div id="n4" class="fila2">

            <h3>Alt-J desvelan los secretos de “The Dream”</h3>
            <p>La banda británica Alt-J acaba de publicar su nuevo y apetitoso álbum, "The Dream", un trabajo en el que
                dan un paso más adelante en una trayectoria que destaca por su talento y por originalidad.</p>
            <a href="https://www.mondosonoro.com/noticias-actualidad-musical/alt-j-podcast-the-dream/">Leer más</a>
            <p class="boton" id="4">Leído</p>

        </div>
        <div id="n5" class="fila2">

            <h3>Conan Gray no se reconoce a si mismo en su nueva canción, Jigsaw</h3>
            <p>En una entrvista, Gray reveló que la canción, co-escrita con Dan Nigro, productor de "Sour" de Olivia
                Rodrigo,
                comenzó como una entrada en su diario. En ella, hablaba de cambiar aspectos sobre si mismo para gustar a
                los de su alrededor</p>
            <a href="https://genius.com/a/conan-gray-no-longer-recognizes-himself-on-new-song-jigsaw">Leer más</a>
            <p class="boton" id="5">Leído</p>

        </div>
        <div id="n6" class="fila2">
            <h3>Sloan Struble de Dayglow: “Me gusta el compromiso”</h3>
            <p>En una época en la que algunos huyen de los compromisos, Sloan Struble de la banda estadounidense
                Dayglow, afirma que es algo que le gusta, al igual que la meticulosidad al momento de hacer música.</p>
            <a href="https://www.sandiegouniontribune.com/en-espanol/noticias/story/2022-01-17/sloan-struble-de-dayglow-me-gusta-el-compromiso">Leer
                más</a>
            <p class="boton" id="6">Leído</p>

        </div>
    </div>
</main>
<footer>
    <p id="direccion">2880 Broadway New York, NY 10025 EE. UU.<br>Copyright 2019</p>
    <ul>
        <li>
            <a href="https://twitter.com/"><img class="red" src="../imagenes/redes/twitter.png"></a>
        </li>
        <li>
            <a href="https://es-es.facebook.com/"><img class="red" src="../imagenes/redes/facebook.png"></a>
        </li>
        <li>
            <a href="https://www.youtube.com/"><img class="red" src="../imagenes/redes/youtube.png"></a>
        </li>
        <li>
            <a href="https://www.instagram.com/?hl=es"><img class="red" src="../imagenes/redes/instagram.png"></a>
        </li>
    </ul>
</footer>


<script src="../recursos/jquery-3.6.0.min.js" type="text/javascript"></script>
<script>
    let noticiaV;
    //contador para saber qué noticia mostrar al clicar
    let contador=0;
    //array que me indica en que posición está cada noticia del archivo, con el fin de
    //no mostrar noticias duplicadas
    let usadas=[-1,-1,-1,-1,-1,-1]
    //le añadimos el eventListener a todos los elementos de clase boton de la página
    $(".boton").each(function evento(){this.addEventListener("click",notifsNuevas)});
    function notifsNuevas(evt){
        //almacenamos el botón que fue pulsado, los cuales estan numerados del 1 al 6
        noticiaV=evt.currentTarget;
        //buscamos el archivo JSON que contiene las noticias
        fetch("../recursos/noticias.json").then(ajaxOK);
    }
    //si la busqueda fue correcta, le pasamos lo leído a la función escribe
    function ajaxOK(response) {response.json().then(escribe);}
    function escribe(obj){
        var noticia=noticiaV.getAttribute("id");
        let nueva=contador%obj.noticias.length;
        //iteramos hasta que encontremos un indice de noticia que no esté mostrada en la página
        while(usadas.includes(nueva)){
            nueva = (contador +1) % obj.noticias.length;
            contador+=1;
        }
        //editamos el titulo, contenido y link de la noticia con la noticia nueva leída del JSON
        document.getElementById("n"+noticia).children[0].innerText=obj.noticias[nueva].titulo;
        document.getElementById("n"+noticia).children[1].innerText=obj.noticias[nueva].contenido;
        document.getElementById("n"+noticia).children[2].setAttribute("href",obj.noticias[nueva].link);
        //y la añadimos al array de noticias mostradas
        usadas[noticia-1]=nueva;
        contador+=1;
    }
</script>

</body>
</html>